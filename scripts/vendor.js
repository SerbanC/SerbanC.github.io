!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Trianglify=e()}}(function(){var e;return function t(e,n,r){function f(o,i){if(!n[o]){if(!e[o]){var s="function"==typeof require&&require;if(!i&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return f(n?n:t)},d,d.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)f(r[o]);return f}({"./lib/trianglify.js":[function(e,t){function n(e){function t(e,t,n){return(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0]}function n(n,r){for(var f=[],a=-w;n+w>a;a+=e.cell_size)for(var o=-y;r+y>o;o+=e.cell_size){var i=a+e.cell_size/2+t(rand(),[0,1],[-v,v]),s=o+e.cell_size/2+t(rand(),[0,1],[-v,v]);f.push([i,s].map(Math.floor))}return f}function o(e){return{x:(e[0][0]+e[1][0]+e[2][0])/3,y:(e[0][1]+e[1][1]+e[2][1])/3}}function l(){if(e.palette instanceof Array)return e.palette[Math.floor(rand()*e.palette.length)];var t=Object.keys(e.palette);return e.palette[t[Math.floor(rand()*t.length)]]}function d(e,t){var n={};for(var r in e)n[r]=e[r];for(r in t){if(!e.hasOwnProperty(r))throw new Error(r+" is not a configuration option for Trianglify. Check your spelling?");n[r]=t[r]}return n}if(e=d(s,e),rand=f(e.seed),"random"===e.x_colors&&(e.x_colors=l()),"random"===e.y_colors&&(e.y_colors=l()),"match_x"===e.y_colors&&(e.y_colors=e.x_colors),!(e.width>0&&e.height>0))throw new Error("Width and height must be numbers greater than 0");if(e.cell_size<2)throw new Error("Cell size must be greater than 2.");var c;if(e.color_function)c=function(t,n){return a(e.color_function(t,n))};else{var u=a.scale(e.x_colors).mode(e.color_space),h=a.scale(e.y_colors).mode(e.color_space);c=function(t,n){return a.interpolate(u(t),h(n),.5,e.color_space)}}for(var b=e.width,p=e.height,g=Math.floor((b+4*e.cell_size)/e.cell_size),m=Math.floor((p+4*e.cell_size)/e.cell_size),w=(g*e.cell_size-b)/2,y=(m*e.cell_size-p)/2,v=e.cell_size*e.variance/2,x=function(e){return t(e,[-w,b+w],[0,1])},_=function(e){return t(e,[-y,p+y],[0,1])},M=n(b,p),S=r.triangulate(M),k=[],j=function(e){return M[e]},E=0;E<S.length;E+=3){var P=[S[E],S[E+1],S[E+2]].map(j),N=o(P),A=c(x(N.x),_(N.y)).hex();k.push([A,P])}return i(k,e)}var r=e("delaunay-fast"),f=e("seedrandom"),a=e("chroma-js"),o=e("./colorbrewer"),i=e("./pattern"),s={width:600,height:400,cell_size:75,variance:.75,seed:null,x_colors:"random",y_colors:"match_x",palette:o,color_space:"lab",color_function:null,stroke_width:1.51};n.colorbrewer=o,n.defaults=s,t.exports=n},{"./colorbrewer":"/Users/qrohlf/Projects/trianglify/lib/colorbrewer.js","./pattern":"/Users/qrohlf/Projects/trianglify/lib/pattern.js","chroma-js":"/Users/qrohlf/Projects/trianglify/node_modules/chroma-js/chroma.js","delaunay-fast":"/Users/qrohlf/Projects/trianglify/node_modules/delaunay-fast/delaunay.js",seedrandom:"/Users/qrohlf/Projects/trianglify/node_modules/seedrandom/seedrandom.js"}],"/Users/qrohlf/Projects/trianglify/lib/colorbrewer.js":[function(e,t){t.exports={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},{}],"/Users/qrohlf/Projects/trianglify/lib/pattern.js":[function(e,t){function n(e,t){function n(){var n=r.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("width",t.width),n.setAttribute("height",t.height),e.forEach(function(e){var f=r.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d","M"+e[1].join("L")+"Z"),f.setAttribute("fill",e[0]),f.setAttribute("stroke",e[0]),f.setAttribute("stroke-width",t.stroke_width),n.appendChild(f)}),n}function f(n){return n||(n=r.createElement("canvas")),n.setAttribute("width",t.width),n.setAttribute("height",t.height),ctx=n.getContext("2d"),ctx.canvas.width=t.width,ctx.canvas.height=t.height,e.forEach(function(e){ctx.fillStyle=ctx.strokeStyle=e[0],ctx.lineWidth=t.stroke_width,ctx.beginPath(),ctx.moveTo.apply(ctx,e[1][0]),ctx.lineTo.apply(ctx,e[1][1]),ctx.lineTo.apply(ctx,e[1][2]),ctx.fill(),ctx.stroke()}),n}function a(){return f().toDataURL("image/png")}return{polys:e,opts:t,svg:n,canvas:f,png:a}}var r="undefined"!=typeof document?document:e("jsdom").jsdom("<html/>");t.exports=n},{jsdom:"/Users/qrohlf/Projects/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/qrohlf/Projects/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(){},{}],"/Users/qrohlf/Projects/trianglify/node_modules/chroma-js/chroma.js":[function(t,n,r){(function(){var t,f,a,o,i,s,l,d,c,u,h,b,p,g,m,w,y,v,x,_,M,S,k,j,E,P,N,A,U,T,C,L,I,B,G,q,H,z,R;u=function(e,n,r,f){return new t(e,n,r,f)},"undefined"!=typeof n&&null!==n&&null!=n.exports&&(n.exports=u),"function"==typeof e&&e.amd?e([],function(){return u}):(B="undefined"!=typeof r&&null!==r?r:this,B.chroma=u),u.color=function(e,n,r,f){return new t(e,n,r,f)},u.hsl=function(e,n,r,f){return new t(e,n,r,f,"hsl")},u.hsv=function(e,n,r,f){return new t(e,n,r,f,"hsv")},u.rgb=function(e,n,r,f){return new t(e,n,r,f,"rgb")},u.hex=function(e){return new t(e)},u.css=function(e){return new t(e)},u.lab=function(e,n,r){return new t(e,n,r,"lab")},u.lch=function(e,n,r){return new t(e,n,r,"lch")},u.hsi=function(e,n,r){return new t(e,n,r,"hsi")},u.gl=function(e,n,r,f){return new t(255*e,255*n,255*r,f,"gl")},u.interpolate=function(e,n,r,f){return null==e||null==n?"#000":("string"===G(e)&&(e=new t(e)),"string"===G(n)&&(n=new t(n)),e.interpolate(r,n,f))},u.mix=u.interpolate,u.contrast=function(e,n){var r,f;return"string"===G(e)&&(e=new t(e)),"string"===G(n)&&(n=new t(n)),r=e.luminance(),f=n.luminance(),r>f?(r+.05)/(f+.05):(f+.05)/(r+.05)},u.luminance=function(e){return u(e).luminance()},u._Color=t,t=function(){function e(){var e,t,n,r,f,a,o,i,s,l,d,c,u,b,p,g;for(f=this,n=[],l=0,d=arguments.length;d>l;l++)t=arguments[l],null!=t&&n.push(t);if(0===n.length)c=[255,0,255,1,"rgb"],o=c[0],i=c[1],s=c[2],e=c[3],r=c[4];else if("array"===G(n[0])){if(3===n[0].length)u=n[0],o=u[0],i=u[1],s=u[2],e=1;else{if(4!==n[0].length)throw"unknown input argument";b=n[0],o=b[0],i=b[1],s=b[2],e=b[3]}r=null!=(p=n[1])?p:"rgb"}else"string"===G(n[0])?(o=n[0],r="hex"):"object"===G(n[0])?(g=n[0]._rgb,o=g[0],i=g[1],s=g[2],e=g[3],r="rgb"):n.length>=3&&(o=n[0],i=n[1],s=n[2]);3===n.length?(r="rgb",e=1):4===n.length?"string"===G(n[3])?(r=n[3],e=1):"number"===G(n[3])&&(r="rgb",e=n[3]):5===n.length&&(e=n[3],r=n[4]),null==e&&(e=1),"rgb"===r?f._rgb=[o,i,s,e]:"gl"===r?f._rgb=[255*o,255*i,255*s,e]:"hsl"===r?(f._rgb=y(o,i,s),f._rgb[3]=e):"hsv"===r?(f._rgb=v(o,i,s),f._rgb[3]=e):"hex"===r?f._rgb=m(o):"lab"===r?(f._rgb=_(o,i,s),f._rgb[3]=e):"lch"===r?(f._rgb=k(o,i,s),f._rgb[3]=e):"hsi"===r&&(f._rgb=w(o,i,s),f._rgb[3]=e),a=h(f._rgb)}return e.prototype.rgb=function(){return this._rgb.slice(0,3)},e.prototype.rgba=function(){return this._rgb},e.prototype.hex=function(){return N(this._rgb)},e.prototype.toString=function(){return this.name()},e.prototype.hsl=function(){return U(this._rgb)},e.prototype.hsv=function(){return T(this._rgb)},e.prototype.lab=function(){return C(this._rgb)},e.prototype.lch=function(){return L(this._rgb)},e.prototype.hsi=function(){return A(this._rgb)},e.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},e.prototype.luminance=function(t,n){var r,f,a,o;return null==n&&(n="rgb"),arguments.length?(0===t&&(this._rgb=[0,0,0,this._rgb[3]]),1===t&&(this._rgb=[255,255,255,this._rgb[3]]),r=E(this._rgb),f=1e-7,a=20,o=function(e,r){var i,s;return s=e.interpolate(.5,r,n),i=s.luminance(),Math.abs(t-i)<f||!a--?s:i>t?o(e,s):o(s,r)},this._rgb=(r>t?o(new e("black"),this):o(this,new e("white"))).rgba(),this):E(this._rgb)},e.prototype.name=function(){var e,t;e=this.hex();for(t in u.colors)if(e===u.colors[t])return t;return e},e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.css=function(e){var t,n,r,f;return null==e&&(e="rgb"),n=this,r=n._rgb,3===e.length&&r[3]<1&&(e+="a"),"rgb"===e?e+"("+r.slice(0,3).map(Math.round).join(",")+")":"rgba"===e?e+"("+r.slice(0,3).map(Math.round).join(",")+","+r[3]+")":"hsl"===e||"hsla"===e?(t=n.hsl(),f=function(e){return Math.round(100*e)/100},t[0]=f(t[0]),t[1]=f(100*t[1])+"%",t[2]=f(100*t[2])+"%",4===e.length&&(t[3]=r[3]),e+"("+t.join(",")+")"):void 0},e.prototype.interpolate=function(t,n,r){var f,a,o,i,s,l,d,c,u,h,b,p,g,m;if(c=this,null==r&&(r="rgb"),"string"===G(n)&&(n=new e(n)),"hsl"===r||"hsv"===r||"lch"===r||"hsi"===r)"hsl"===r?(g=c.hsl(),m=n.hsl()):"hsv"===r?(g=c.hsv(),m=n.hsv()):"hsi"===r?(g=c.hsi(),m=n.hsi()):"lch"===r&&(g=c.lch(),m=n.lch()),"h"===r.substr(0,1)?(o=g[0],b=g[1],l=g[2],i=m[0],p=m[1],d=m[2]):(l=g[0],b=g[1],o=g[2],d=m[0],p=m[1],i=m[2]),isNaN(o)||isNaN(i)?isNaN(o)?isNaN(i)?a=Number.NaN:(a=i,1!==l&&0!==l||"hsv"===r||(h=p)):(a=o,1!==d&&0!==d||"hsv"===r||(h=b)):(f=i>o&&i-o>180?i-(o+360):o>i&&o-i>180?i+360-o:i-o,a=o+t*f),null==h&&(h=b+t*(p-b)),s=l+t*(d-l),u="h"===r.substr(0,1)?new e(a,h,s,r):new e(s,h,a,r);else if("rgb"===r)g=c._rgb,m=n._rgb,u=new e(g[0]+t*(m[0]-g[0]),g[1]+t*(m[1]-g[1]),g[2]+t*(m[2]-g[2]),r);else{if("lab"!==r)throw"color mode "+r+" is not supported";g=c.lab(),m=n.lab(),u=new e(g[0]+t*(m[0]-g[0]),g[1]+t*(m[1]-g[1]),g[2]+t*(m[2]-g[2]),r)}return u.alpha(c.alpha()+t*(n.alpha()-c.alpha())),u},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),u(t[0]*e,t[1]*e,t[2]*e,e)},e.prototype.darken=function(e){var t,n;return null==e&&(e=20),n=this,t=n.lch(),t[0]-=e,u.lch(t).alpha(n.alpha())},e.prototype.darker=function(e){return this.darken(e)},e.prototype.brighten=function(e){return null==e&&(e=20),this.darken(-e)},e.prototype.brighter=function(e){return this.brighten(e)},e.prototype.saturate=function(e){var t,n;return null==e&&(e=20),n=this,t=n.lch(),t[1]+=e,u.lch(t).alpha(n.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=20),this.saturate(-e)},e}(),h=function(e){var t;for(t in e)3>t?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},g=function(e){var t,n,r,f,a,o,i,s;if(e=e.toLowerCase(),null!=u.colors&&u.colors[e])return m(u.colors[e]);if(r=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(f=r.slice(1,4),n=a=0;2>=a;n=++a)f[n]=+f[n];f[3]=1}else if(r=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(f=r.slice(1,5),n=o=0;3>=o;n=++o)f[n]=+f[n];else if(r=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(f=r.slice(1,4),n=i=0;2>=i;n=++i)f[n]=Math.round(2.55*f[n]);f[3]=1}else if(r=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(f=r.slice(1,5),n=s=0;2>=s;n=++s)f[n]=Math.round(2.55*f[n]);f[3]=+f[3]}else(r=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(t=r.slice(1,4),t[1]*=.01,t[2]*=.01,f=y(t),f[3]=1):(r=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(t=r.slice(1,4),t[1]*=.01,t[2]*=.01,f=y(t),f[3]=+r[4]);return f},m=function(e){var t,n,r,f,a,o;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),o=parseInt(e,16),f=o>>16,r=o>>8&255,n=255&o,[f,r,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),o=parseInt(e,16),f=o>>24&255,r=o>>16&255,n=o>>8&255,t=255&o,[f,r,n,t];if(a=g(e))return a;throw"unknown color: "+e},w=function(e,t,n){var r,f,i,s;return s=q(arguments),e=s[0],t=s[1],n=s[2],e/=360,1/3>e?(r=(1-t)/3,i=(1+t*p(o*e)/p(a-o*e))/3,f=1-(r+i)):2/3>e?(e-=1/3,i=(1-t)/3,f=(1+t*p(o*e)/p(a-o*e))/3,r=1-(i+f)):(e-=2/3,f=(1-t)/3,r=(1+t*p(o*e)/p(a-o*e))/3,i=1-(f+r)),i=j(n*i*3),f=j(n*f*3),r=j(n*r*3),[255*i,255*f,255*r]},y=function(){var e,t,n,r,f,a,o,i,s,l,d,c,u,h;if(u=q(arguments),r=u[0],i=u[1],a=u[2],0===i)o=n=e=255*a;else{for(d=[0,0,0],t=[0,0,0],l=.5>a?a*(1+i):a+i-a*i,s=2*a-l,r/=360,d[0]=r+1/3,d[1]=r,d[2]=r-1/3,f=c=0;2>=c;f=++c)d[f]<0&&(d[f]+=1),d[f]>1&&(d[f]-=1),t[f]=6*d[f]<1?s+6*(l-s)*d[f]:2*d[f]<1?l:3*d[f]<2?s+(l-s)*(2/3-d[f])*6:s;h=[Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])],o=h[0],n=h[1],e=h[2]}return[o,n,e]},v=function(){var e,t,n,r,f,a,o,i,s,l,d,c,u,h,b,p,g,m;if(c=q(arguments),r=c[0],s=c[1],d=c[2],d*=255,0===s)i=n=e=d;else switch(360===r&&(r=0),r>360&&(r-=360),0>r&&(r+=360),r/=60,f=Math.floor(r),t=r-f,a=d*(1-s),o=d*(1-s*t),l=d*(1-s*(1-t)),f){case 0:u=[d,l,a],i=u[0],n=u[1],e=u[2];break;case 1:h=[o,d,a],i=h[0],n=h[1],e=h[2];break;case 2:b=[a,d,l],i=b[0],n=b[1],e=b[2];break;case 3:p=[a,o,d],i=p[0],n=p[1],e=p[2];break;case 4:g=[l,a,d],i=g[0],n=g[1],e=g[2];break;case 5:m=[d,a,o],i=m[0],n=m[1],e=m[2]}return i=Math.round(i),n=Math.round(n),e=Math.round(e),[i,n,e]},f=18,i=.95047,s=1,l=1.08883,x=function(){var e,t,n,r,f,a;return a=q(arguments),f=a[0],e=a[1],t=a[2],n=Math.sqrt(e*e+t*t),r=Math.atan2(t,e)/Math.PI*180,[f,n,r]},_=function(e,t,n){var r,f,a,o,d,c,u;return void 0!==e&&3===e.length&&(c=e,e=c[0],t=c[1],n=c[2]),void 0!==e&&3===e.length&&(u=e,e=u[0],t=u[1],n=u[2]),o=(e+16)/116,a=o+t/500,d=o-n/200,a=M(a)*i,o=M(o)*s,d=M(d)*l,f=z(3.2404542*a-1.5371385*o-.4985314*d),r=z(-.969266*a+1.8760108*o+.041556*d),n=z(.0556434*a-.2040259*o+1.0572252*d),[j(f,0,255),j(r,0,255),j(n,0,255),1]},M=function(e){return e>.206893034?e*e*e:(e-4/29)/7.787037},z=function(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))},S=function(){var e,t,n,r;return r=q(arguments),n=r[0],e=r[1],t=r[2],t=t*Math.PI/180,[n,Math.cos(t)*e,Math.sin(t)*e]},k=function(e,t,n){var r,f,a,o,i,s,l;return s=S(e,t,n),r=s[0],f=s[1],a=s[2],l=_(r,f,a),i=l[0],o=l[1],a=l[2],[j(i,0,255),j(o,0,255),j(a,0,255)]},E=function(e,t,n){var r;return r=q(arguments),e=r[0],t=r[1],n=r[2],e=P(e),t=P(t),n=P(n),.2126*e+.7152*t+.0722*n},P=function(e){return e/=255,.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)},N=function(){var e,t,n,r,f,a;return a=q(arguments),n=a[0],t=a[1],e=a[2],f=n<<16|t<<8|e,r="000000"+f.toString(16),"#"+r.substr(r.length-6)},A=function(){var e,t,n,r,f,a,o,i,s;return s=q(arguments),o=s[0],n=s[1],t=s[2],e=2*Math.PI,o/=255,n/=255,t/=255,a=Math.min(o,n,t),f=(o+n+t)/3,i=1-a/f,0===i?r=0:(r=(o-n+(o-t))/2,r/=Math.sqrt((o-n)*(o-n)+(o-t)*(n-t)),r=Math.acos(r),t>n&&(r=e-r),r/=e),[360*r,i,f]},U=function(e,t,n){var r,f,a,o,i,s;return void 0!==e&&e.length>=3&&(s=e,e=s[0],t=s[1],n=s[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),a=Math.max(e,t,n),f=(a+o)/2,a===o?(i=0,r=Number.NaN):i=.5>f?(a-o)/(a+o):(a-o)/(2-a-o),e===a?r=(t-n)/(a-o):t===a?r=2+(n-e)/(a-o):n===a&&(r=4+(e-t)/(a-o)),r*=60,0>r&&(r+=360),[r,i,f]},T=function(){var e,t,n,r,f,a,o,i,s,l;return l=q(arguments),o=l[0],n=l[1],e=l[2],a=Math.min(o,n,e),f=Math.max(o,n,e),t=f-a,s=f/255,0===f?(r=Number.NaN,i=0):(i=t/f,o===f&&(r=(n-e)/t),n===f&&(r=2+(e-o)/t),e===f&&(r=4+(o-n)/t),r*=60,0>r&&(r+=360)),[r,i,s]},C=function(){var e,t,n,r,f,a,o;return o=q(arguments),n=o[0],t=o[1],e=o[2],n=I(n),t=I(t),e=I(e),r=H((.4124564*n+.3575761*t+.1804375*e)/i),f=H((.2126729*n+.7151522*t+.072175*e)/s),a=H((.0193339*n+.119192*t+.9503041*e)/l),[116*f-16,500*(r-f),200*(f-a)]},I=function(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},H=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},L=function(){var e,t,n,r,f,a,o;return a=q(arguments),f=a[0],n=a[1],t=a[2],o=C(f,n,t),r=o[0],e=o[1],t=o[2],x(r,e,t)},u.scale=function(e,t){var n,r,f,a,o,i,s,l,d,c,h,b,p,g,m,w,y,v,x,_,M;return w="rgb",y=u("#ccc"),M=0,p=!1,b=[0,1],c=[],x=!1,_=[],m=0,g=1,h=!1,v=0,d={},i=function(e,t){var n,r,f,a,i,s,l;if(null==e&&(e=["#ddd","#222"]),null!=e&&"string"===G(e)&&null!=(null!=(i=u.brewer)?i[e]:void 0)&&(e=u.brewer[e]),"array"===G(e)){for(e=e.slice(0),n=f=0,s=e.length-1;s>=0?s>=f:f>=s;n=s>=0?++f:--f)r=e[n],"string"===G(r)&&(e[n]=u(r));if(null!=t)_=t;else for(_=[],n=a=0,l=e.length-1;l>=0?l>=a:a>=l;n=l>=0?++a:--a)_.push(n/(e.length-1))}return o(),c=e},s=function(e){return null==e&&(e=[]),b=e,m=e[0],g=e[e.length-1],o(),v=2===e.length?0:e.length-1},f=function(e){var t,n;if(null!=b){for(n=b.length-1,t=0;n>t&&e>=b[t];)t++;return t-1}return 0},l=function(e){return e},n=function(e){var t,n,r,a,o;return o=e,b.length>2&&(a=b.length-1,t=f(e),r=b[0]+(b[1]-b[0])*(0+.5*M),n=b[a-1]+(b[a]-b[a-1])*(1-.5*M),o=m+(b[t]+.5*(b[t+1]-b[t])-r)/(n-r)*(g-m)),o},a=function(e,t){var n,r,a,o,i,s,h,p,x;if(null==t&&(t=!1),isNaN(e))return y;if(t?h=e:b.length>2?(n=f(e),h=n/(v-1)):(h=a=m!==g?(e-m)/(g-m):0,h=a=(e-m)/(g-m),h=Math.min(1,Math.max(0,h))),t||(h=l(h)),i=Math.floor(1e4*h),d[i])r=d[i];else{if("array"===G(c))for(o=p=0,x=_.length-1;x>=0?x>=p:p>=x;o=x>=0?++p:--p){if(s=_[o],s>=h){r=c[o];break}if(h>=s&&o===_.length-1){r=c[o];break}if(h>s&&h<_[o+1]){h=(h-s)/(_[o+1]-s),r=u.interpolate(c[o],c[o+1],h,w);break}}else"function"===G(c)&&(r=c(h));d[i]=r}return r},o=function(){return d={}},i(e,t),r=function(e){var t;return t=a(e),x&&t[x]?t[x]():t},r.domain=function(e,t,n,f){var a;return null==n&&(n="e"),arguments.length?(null!=t&&(a=u.analyze(e,f),e=0===t?[a.min,a.max]:u.limits(a,n,t)),s(e),r):b},r.mode=function(e){return arguments.length?(w=e,o(),r):w},r.range=function(e,t){return i(e,t),r},r.out=function(e){return x=e,r},r.spread=function(e){return arguments.length?(M=e,r):M},r.correctLightness=function(e){return arguments.length?(h=e,o(),l=h?function(e){var t,n,r,f,o,i,s,l,d;for(t=a(0,!0).lab()[0],n=a(1,!0).lab()[0],s=t>n,r=a(e,!0).lab()[0],o=t+(n-t)*e,f=r-o,l=0,d=1,i=20;Math.abs(f)>.01&&i-->0;)!function(){return s&&(f*=-1),0>f?(l=e,e+=.5*(d-e)):(d=e,e+=.5*(l-e)),r=a(e,!0).lab()[0],f=r-o}();return e}:function(e){return e},r):h},r.colors=function(t){var n,f,a,o,i,s;if(null==t&&(t="hex"),e=[],f=[],b.length>2)for(n=a=1,s=b.length;s>=1?s>a:a>s;n=s>=1?++a:--a)f.push(.5*(b[n-1]+b[n]));else f=b;for(o=0,i=f.length;i>o;o++)n=f[o],e.push(r(n)[t]());return e},r},null==(R=u.scales)&&(u.scales={}),u.scales.cool=function(){return u.scale([u.hsl(180,1,.9),u.hsl(250,.7,.4)])},u.scales.hot=function(){return u.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},u.analyze=function(e,t,n){var r,f,a,o,i,s,l;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(a.values.push(e),a.sum+=e,e<a.min&&(a.min=e),e>a.max&&(a.max=e),a.count+=1)},i=function(e,f){return n(e,f)?r(null!=t&&"function"===G(t)?t(e):null!=t&&"string"===G(t)||"number"===G(t)?e[t]:e):void 0},"array"===G(e))for(s=0,l=e.length;l>s;s++)o=e[s],i(o);else for(f in e)o=e[f],i(o,f);return a.domain=[a.min,a.max],a.limits=function(e,t){return u.limits(a,e,t)},a},u.limits=function(e,t,n){var r,f,a,o,i,s,l,d,c,h,b,p,g,m,w,y,v,x,_,M,S,k,j,E,P,N,A,U,T,C,L,I,B,q,H,z,R,O,V,Y,F,D,W,X,$,Z,J,K,Q,ee,te,ne,re,fe,ae,oe;if(null==t&&(t="equal"),null==n&&(n=7),"array"===G(e)&&(e=u.analyze(e)),g=e.min,b=e.max,j=e.sum,N=e.values.sort(function(e,t){return e-t}),h=[],"c"===t.substr(0,1)&&(h.push(g),h.push(b)),"e"===t.substr(0,1)){for(h.push(g),l=A=1,R=n-1;R>=1?R>=A:A>=R;l=R>=1?++A:--A)h.push(g+l/n*(b-g));h.push(b)}else if("l"===t.substr(0,1)){if(0>=g)throw"Logarithmic scales are only possible for values > 0";for(m=Math.LOG10E*Math.log(g),p=Math.LOG10E*Math.log(b),h.push(g),l=U=1,X=n-1;X>=1?X>=U:U>=X;l=X>=1?++U:--U)h.push(Math.pow(10,m+l/n*(p-m)));h.push(b)}else if("q"===t.substr(0,1)){for(h.push(g),l=T=1,$=n-1;$>=1?$>=T:T>=$;l=$>=1?++T:--T)_=N.length*l/n,M=Math.floor(_),M===_?h.push(N[M]):(S=_-M,h.push(N[M]*S+N[M+1]*(1-S)));h.push(b)}else if("k"===t.substr(0,1)){for(y=N.length,r=new Array(y),i=new Array(n),k=!0,v=0,a=null,a=[],a.push(g),l=C=1,Z=n-1;Z>=1?Z>=C:C>=Z;l=Z>=1?++C:--C)a.push(g+l/n*(b-g));for(a.push(b);k;){for(d=L=0,J=n-1;J>=0?J>=L:L>=J;d=J>=0?++L:--L)i[d]=0;for(l=I=0,K=y-1;K>=0?K>=I:I>=K;l=K>=0?++I:--I){for(P=N[l],w=Number.MAX_VALUE,d=B=0,Q=n-1;Q>=0?Q>=B:B>=Q;d=Q>=0?++B:--B)s=Math.abs(a[d]-P),w>s&&(w=s,f=d);i[f]++,r[l]=f}for(x=new Array(n),d=q=0,ee=n-1;ee>=0?ee>=q:q>=ee;d=ee>=0?++q:--q)x[d]=null;for(l=H=0,te=y-1;te>=0?te>=H:H>=te;l=te>=0?++H:--H)o=r[l],null===x[o]?x[o]=N[l]:x[o]+=N[l];for(d=z=0,O=n-1;O>=0?O>=z:z>=O;d=O>=0?++z:--z)x[d]*=1/i[d];for(k=!1,d=ne=0,V=n-1;V>=0?V>=ne:ne>=V;d=V>=0?++ne:--ne)if(x[d]!==a[l]){k=!0;break}a=x,v++,v>200&&(k=!1)}for(c={},d=re=0,Y=n-1;Y>=0?Y>=re:re>=Y;d=Y>=0?++re:--re)c[d]=[];for(l=fe=0,F=y-1;F>=0?F>=fe:fe>=F;l=F>=0?++fe:--fe)o=r[l],c[o].push(N[l]);for(E=[],d=ae=0,D=n-1;D>=0?D>=ae:ae>=D;d=D>=0?++ae:--ae)E.push(c[d][0]),E.push(c[d][c[d].length-1]);for(E=E.sort(function(e,t){return e-t}),h.push(E[0]),l=oe=1,W=E.length-1;W>=oe;l=oe+=2)isNaN(E[l])||h.push(E[l])}return h},u.brewer=c={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},u.colors=b={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},G=function(){var e,t,n,r,f;for(e={},f="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),n=0,r=f.length;r>n;n++)t=f[n],e["[object "+t+"]"]=t.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),j=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),t>e&&(e=t),e>n&&(e=n),e},q=function(e){return e.length>=3?e:e[0]},o=2*Math.PI,a=Math.PI/3,p=Math.cos,d=function(e){var t,n,r,f,a,o,i,s,l,c,h;return e=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)f=e[t],r.push(u(f));return r}(),2===e.length?(l=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)f=e[t],r.push(f.lab());return r}(),a=l[0],o=l[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push(a[t]+e*(o[t]-a[t]));return r}(),u.lab.apply(u,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)f=e[t],r.push(f.lab());return r}(),a=c[0],o=c[1],i=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*a[t]+2*(1-e)*e*o[t]+e*e*i[t]);return r}(),u.lab.apply(u,n)}):4===e.length?(h=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)f=e[t],r.push(f.lab());return r}(),a=h[0],o=h[1],i=h[2],s=h[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*i[t]+e*e*e*s[t]);return r}(),u.lab.apply(u,n)}):5===e.length&&(n=d(e.slice(0,3)),r=d(e.slice(2,5)),t=function(e){return.5>e?n(2*e):r(2*(e-.5))}),t},u.interpolate.bezier=d}).call(this)},{}],"/Users/qrohlf/Projects/trianglify/node_modules/delaunay-fast/delaunay.js":[function(e,t){var n;!function(){"use strict";function e(e){var t,n,r,f,a,o,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<i&&(i=e[t][0]),e[t][0]>l&&(l=e[t][0]),
e[t][1]<s&&(s=e[t][1]),e[t][1]>d&&(d=e[t][1]);return n=l-i,r=d-s,f=Math.max(n,r),a=i+.5*n,o=s+.5*r,[[a-20*f,o-f],[a,o+20*f],[a+20*f,o-f]]}function r(e,t,n,r){var f,o,i,s,l,d,c,u,h,b,p=e[t][0],g=e[t][1],m=e[n][0],w=e[n][1],y=e[r][0],v=e[r][1],x=Math.abs(g-w),_=Math.abs(w-v);if(a>x&&a>_)throw new Error("Eek! Coincident points!");return a>x?(s=-((y-m)/(v-w)),d=(m+y)/2,u=(w+v)/2,f=(m+p)/2,o=s*(f-d)+u):a>_?(i=-((m-p)/(w-g)),l=(p+m)/2,c=(g+w)/2,f=(y+m)/2,o=i*(f-l)+c):(i=-((m-p)/(w-g)),s=-((y-m)/(v-w)),l=(p+m)/2,d=(m+y)/2,c=(g+w)/2,u=(w+v)/2,f=(i*l-s*d+u-c)/(i-s),o=x>_?i*(f-l)+c:s*(f-d)+u),h=m-f,b=w-o,{i:t,j:n,k:r,x:f,y:o,r:h*h+b*b}}function f(e){var t,n,r,f,a,o;for(n=e.length;n;)for(f=e[--n],r=e[--n],t=n;t;)if(o=e[--t],a=e[--t],r===a&&f===o||r===o&&f===a){e.splice(n,2),e.splice(t,2);break}}var a=1/1048576;n={triangulate:function(t,n){var o,i,s,l,d,c,u,h,b,p,g,m,w=t.length;if(3>w)return[];if(t=t.slice(0),n)for(o=w;o--;)t[o]=t[o][n];for(s=new Array(w),o=w;o--;)s[o]=o;for(s.sort(function(e,n){return t[n][0]-t[e][0]}),l=e(t),t.push(l[0],l[1],l[2]),d=[r(t,w+0,w+1,w+2)],c=[],u=[],o=s.length;o--;u.length=0){for(m=s[o],i=d.length;i--;)h=t[m][0]-d[i].x,h>0&&h*h>d[i].r?(c.push(d[i]),d.splice(i,1)):(b=t[m][1]-d[i].y,h*h+b*b-d[i].r>a||(u.push(d[i].i,d[i].j,d[i].j,d[i].k,d[i].k,d[i].i),d.splice(i,1)));for(f(u),i=u.length;i;)g=u[--i],p=u[--i],d.push(r(t,p,g,m))}for(o=d.length;o--;)c.push(d[o]);for(d.length=0,o=c.length;o--;)c[o].i<w&&c[o].j<w&&c[o].k<w&&d.push(c[o].i,c[o].j,c[o].k);return d},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var n=e[1][0]-e[0][0],r=e[2][0]-e[0][0],f=e[1][1]-e[0][1],a=e[2][1]-e[0][1],o=n*a-r*f;if(0===o)return null;var i=(a*(t[0]-e[0][0])-r*(t[1]-e[0][1]))/o,s=(n*(t[1]-e[0][1])-f*(t[0]-e[0][0]))/o;return 0>i||0>s||i+s>1?null:[i,s]}},"undefined"!=typeof t&&(t.exports=n)}()},{}],"/Users/qrohlf/Projects/trianglify/node_modules/seedrandom/seedrandom.js":[function(t,n){!function(e,n,r,f,a,o,i,s,l){function d(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);f>a;)i[a]=a++;for(a=0;f>a;a++)i[a]=i[o=v&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=v&a+1],n=n*f+i[v&(i[a]=i[o=v&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(f)}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var n,r=[],f=typeof e;if(t&&"object"==f)for(n in e)try{r.push(u(e[n],t-1))}catch(a){}return r.length?r:"string"==f?e:e+"\x00"}function h(e,t){for(var n,r=e+"",f=0;f<r.length;)t[v&f]=v&(n^=19*t[v&f])+r.charCodeAt(f++);return p(t)}function b(t){try{return g?p(g.randomBytes(f)):(e.crypto.getRandomValues(t=new Uint8Array(f)),p(t))}catch(r){return[+new Date,e,(t=e.navigator)&&t.plugins,e.screen,p(n)]}}function p(e){return String.fromCharCode.apply(0,e)}var g,m=r.pow(f,a),w=r.pow(2,o),y=2*w,v=f-1,x=r["seed"+l]=function(e,t,o){var i=[];t=1==t?{entropy:!0}:t||{};var s=h(u(t.entropy?[e,p(n)]:null==e?b():e,3),i),g=new d(i);return h(p(g.S),n),(t.pass||o||function(e,t,n,f){return f&&(f.S&&c(f,g),e.state=function(){return c(g,{})}),n?(r[l]=e,t):e})(function(){for(var e=g.g(a),t=m,n=0;w>e;)e=(e+n)*f,t*=f,n=g.g(1);for(;e>=y;)e/=2,t/=2,n>>>=1;return(e+n)/t},s,"global"in t?t.global:this==r,t.state)};if(h(r[l](),n),i&&i.exports){i.exports=x;try{g=t("crypto")}catch(_){}}else s&&s.amd&&s(function(){return x})}(this,[],Math,256,6,52,"object"==typeof n&&n,"function"==typeof e&&e,"random")},{crypto:!1}]},{},["./lib/trianglify.js"])("./lib/trianglify.js")}),!function(e,t){t.shinejs=e,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},f=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,f.prototype=new r,f}),window.performance=window.performance||window.webkitPeformance||window.mozPeformance||{now:function(){return(new Date).getTime()}};var n,r;try{n=n||e||{}}catch(f){n={}}try{r=r||t||{}}catch(f){r={}}"undefined"!=typeof define&&define.amd&&define([],function(){return n}),n.Color=function(e,t,n){this.r=e||0,this.g=t||0,this.b=n||0},n.Color.colorFromHex=function(e){var t=new n.Color;return t.parseHex(e),t},n.Color.prototype.parseHex=function(e){e=e.replace("#","");var t=parseInt(e,16);this.r=t>>16&255,this.g=t>>8&255,this.b=255&t},n.Color.prototype.getRGBAString=function(){return"rgba("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+", 1.0)"},n.Config=function(e){this.numSteps=5,this.opacity=.15,this.opacityPow=1.2,this.offset=.15,this.offsetPow=1.8,this.blur=40,this.blurPow=1,this.shadowRGB=new n.Color(0,0,0),this.applyValues(e)},n.Config.prototype.applyValues=function(e){if(e)for(var t in this)t in e&&(this[t]=e[t])},n.Light=function(e){this.position=e||new n.Point(0,0),this.intensity=1},n.Point=function(e,t){this.x=e||0,this.y=t||0},n.Point.prototype.delta=function(e){return new n.Point(e.x-this.x,e.y-this.y)},n.Shadow=function(e){this.position=new n.Point(0,0),this.domElement=e,this.shadowProperty="textShadow",this.fnHandleViewportUpdate=null,this.fnHandleWindowLoaded=this.handleWindowLoaded.bind(this),this.enableAutoUpdates(),this.handleViewportUpdate(),window.addEventListener("load",this.fnHandleWindowLoaded,!1)},n.Shadow.prototype.destroy=function(){window.removeEventListener("load",this.fnHandleWindowLoaded,!1),this.disableAutoUpdates(),this.fnHandleWindowLoaded=null,this.domElement=null,this.position=null},n.Shadow.prototype.draw=function(e,t){var n=this.position.delta(e.position),r=Math.sqrt(n.x*n.x+n.y*n.y);r=Math.max(32,r);for(var f=[],a=0;a<t.numSteps;a++){var o=a/t.numSteps,i=Math.pow(o,t.opacityPow),s=Math.pow(o,t.offsetPow),l=Math.pow(o,t.blurPow),d=e.intensity*Math.max(0,t.opacity*(1-i)),c=-t.offset*n.x*s,u=-t.offset*n.y*s,h=r*t.blur*l/512,b=this.getShadow(t.shadowRGB,d,c,u,h);f.push(b)}this.drawShadows(f)},n.Shadow.prototype.getShadow=function(e,t,n,r,f){var a="rgba("+e.r+", "+e.g+", "+e.b+", "+t+")";return a+" "+n+"px "+r+"px "+Math.round(f)+"px"},n.Shadow.prototype.drawShadows=function(e){this.domElement.style[this.shadowProperty]=e.join(", ")},n.Shadow.prototype.enableAutoUpdates=function(){this.disableAutoUpdates();var e=this.fnHandleViewportUpdate=n.Timing.debounce(this.handleViewportUpdate,1e3/15,this);document.addEventListener("resize",e,!1),window.addEventListener("resize",e,!1),window.addEventListener("scroll",e,!1)},n.Shadow.prototype.disableAutoUpdates=function(){var e=this.fnHandleViewportUpdate;e&&(this.fnHandleViewportUpdate=null,document.removeEventListener("resize",e,!1),window.removeEventListener("resize",e,!1),window.removeEventListener("scroll",e,!1))},n.Shadow.prototype.handleViewportUpdate=function(){var e=this.domElement.getBoundingClientRect();this.position.x=e.left+.5*e.width,this.position.y=e.top+.5*e.height},n.Shadow.prototype.handleWindowLoaded=function(){this.handleViewportUpdate()},n.Splitter=function(e,t){this.domElement=e,this.classPrefix=t||"",this.wrapperElement=document.createElement("div"),this.maskElement=document.createElement("div"),this.wordElements=[],this.elements=[],this.text=""},n.Splitter.prototype.split=function(e,t){this.text=e||this.text,this.wordElements.length=0,this.elements.length=0,this.wrapperElement.className=this.classPrefix+"wrapper",this.wrapperElement.innerHTML="",e&&(this.domElement.textContent=this.text),t?this.splitChildren(this.domElement,this.maskElement,this.wrapperElement,this.classPrefix):this.splitText(this.domElement,this.maskElement,this.wrapperElement,this.classPrefix)},n.Splitter.prototype.splitChildren=function(e,t,n,r){for(var f=e.childNodes,a=f.length-1;a>=0;a--){var o=f[a];1===o.nodeType&&(o.className+=" "+r+"letter",n.insertBefore(o,n.firstChild),this.elements.push(o))}t.innerHTML=n.innerHTML,t.className=r+"mask",n.appendChild(t),e.innerHTML="",e.appendChild(n)},n.Splitter.prototype.splitText=function(e,t,n,r){for(var f=e.textContent,a=f.length,o=null,i=0;a>i;i++){var s=f.charAt(i);if(o||(o=document.createElement("span"),o.className=r+"word",n.appendChild(o),this.wordElements.push(o)),s.match(/[\s]/)){var l=document.createElement("span");l.className=r+"spacer",l.innerHTML=s,n.appendChild(l),o=null}else{var d=document.createElement("span");d.innerHTML=s,d.className=r+"letter",this.elements.push(d),o.appendChild(d),s.match(/[\W]/)&&(o=null)}}t.innerHTML=n.innerHTML,t.className=r+"mask",n.appendChild(t),e.innerHTML="",e.appendChild(n)},n.StyleInjector=function(){this.injections={}},n.StyleInjector.instance_=null,n.StyleInjector.getInstance=function(){return n.StyleInjector.instance_||(n.StyleInjector.instance_=new n.StyleInjector),n.StyleInjector.instance_},n.StyleInjector.prototype.inject=function(e,t){if(t=t||window.document,this.injections[e]!==t){var n=document.createElement("style");n.type="text/css",n.innerHTML=e;var r=t.getElementsByTagName("head")[0].firstChild;return t.getElementsByTagName("head")[0].insertBefore(n,r),this.injections[e]=t,n}},n.Timing=function(){},n.Timing.debounce=function(e,t,n){var r=0/0;return function(){t=t||0,n=n||this;var f=arguments;isNaN(r)||clearTimeout(r),r=setTimeout(function(){e.apply(n,f)},t)}},n.Timing.throttle=function(e,t,n){var r=0/0,f=0/0;return function(){t=t||0,n=n||this;var a=window.performance.now(),o=arguments;!isNaN(r)&&r+t>a?(isNaN(f)||clearTimeout(f),f=setTimeout(function(){r=a,e.apply(n,o)},t)):(isNaN(f)||clearTimeout(f),r=a,e.apply(n,o))}},n.Shine=function(e,t,r,f){if(!e)throw new Error("No valid DOM element passed as first parameter");this.light=new n.Light,this.config=t||new n.Config,this.domElement=e,this.classPrefix=r||"shine-",this.shadowProperty=f||(this.elememtHasTextOnly(e)?"textShadow":"boxShadow"),this.shadows=[],this.splitter=new n.Splitter(e,this.classPrefix),this.areAutoUpdatesEnabled=!0,this.fnDrawHandler=null,this.updateContent()},n.Shine.prototype.destroy=function(){this.disableAutoUpdates();for(var e=this.shadows.length-1;e>=0;e--)this.shadows[e].destroy();this.light=null,this.shadows=null,this.splitter=null,this.fnDrawHandler=null},n.Shine.prototype.draw=function(){for(var e=this.shadows.length-1;e>=0;e--)this.shadows[e].draw(this.light,this.config)},n.Shine.prototype.updateContent=function(e){var t=this.areAutoUpdatesEnabled;this.disableAutoUpdates(),n.StyleInjector.getInstance().inject(this.getCSS()),this.shadows.length=0,this.splitter.split(e,!e&&!this.elememtHasTextOnly(this.domElement));for(var r=this.getPrefixed(this.shadowProperty),f=0;f<this.splitter.elements.length;f++){var a=this.splitter.elements[f],o=new n.Shadow(a);o.shadowProperty=r,this.shadows.push(o)}t&&this.enableAutoUpdates(),this.draw()},n.Shine.prototype.enableAutoUpdates=function(){this.disableAutoUpdates(),this.areAutoUpdatesEnabled=!0;var e=this.fnDrawHandler=this.draw.bind(this);window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1);for(var t=this.shadows.length-1;t>=0;t--){var n=this.shadows[t];n.enableAutoUpdates()}},n.Shine.prototype.disableAutoUpdates=function(){this.areAutoUpdatesEnabled=!1;var e=this.fnDrawHandler;if(e){this.fnDrawHandler=null,window.removeEventListener("scroll",e,!1),window.removeEventListener("resize",e,!1);for(var t=this.shadows.length-1;t>=0;t--){var n=this.shadows[t];n.disableAutoUpdates()}}},n.Shine.prototype.getCSS=function(){return"/* shine.js styles */.shine-wrapper { display: inline-block; position: relative; max-width: 100%;}.shine-word { display: inline-block; white-space: nowrap;}.shine-letter { position: relative; display: inline-block;}.shine-mask { position: absolute; top: 0; left: 0; right: 0; bottom: 0;}"},n.Shine.prototype.getPrefixed=function(e){for(var t=this.domElement||document.createElement("div"),n=t.style,r=["webkit","ms","Moz","Webkit","O"],f=e.charAt(0).toUpperCase()+e.substring(1),a=0;a<r.length;a++){var o=r[a]+f;if(o in n)return o}return e},n.Shine.prototype.isCSSPropertySupported=function(e,t){var n=document.createElement("div"),r=n.style,f=["-webkit-","-ms-","-moz-"];return r.cssText=f.join(e+":"+t+";"),!!r.length&&(void 0===document.documentMode||document.documentMode>9)},n.Shine.prototype.areFiltersSupported=function(){return this.isCSSPropertySupported("filter","blur(2px)")},n.Shine.prototype.elememtHasTextOnly=function(e){var t=e.childNodes;if(!t||0===t.length)return!0;for(var n=0;n<t.length;n++)if(3!==t[n].nodeType)return!1;return!0},r.Shine=r.Shine||n.Shine}({},function(){return this}());